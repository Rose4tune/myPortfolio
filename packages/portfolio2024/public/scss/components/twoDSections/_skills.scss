@use "../../helpers" as *;

%cardSet {
  width: 100%;
  height: 100%;
  position: absolute;
  padding: 1.5rem;
  backface-visibility: hidden;
}

.skills {
  width: 100vw;
  height: 100vh;
  display: flex;
  justify-content: center;
  align-items: center;
  gap: vw(75);

  &-board {
    position: relative;
    display: flex;
    gap: vw(55);
    flex-wrap: wrap;
    justify-content: center;
    width: vw(1286);
    height: vh(850);
    padding: vh(150) vw(192);
    margin: 0 0 rem(40) rem(40);
    background: hsl(var(--gray-back-100));
    perspective: 50rem;
    overflow-y: auto;
    scrollbar-width: thin;
    border: 1px solid hsl(var(--pink-back-070));
    z-index: 50;
  }

  &-item {
    position: relative;
    width: vw(250);
    height: vw(250);
    border: 1px solid hsl(var(--pink-back-070));
    word-break: break-all;
    cursor: pointer;
    transform-style: preserve-3d;
    transform: rotateY(0deg);
    transition: 0.5s;

    &-title {
      @include font(
        $s: 14,
        $family: "Noto Sans",
        $wght: 800,
        $trans: uppercase
      );

      &::before,
      &::after {
        display: inline-block;
        content: "";
        width: 1rem;
        height: 1.6rem;
        background: url(/icons/arrow_black.svg) no-repeat center center;
        background-size: contain;
      }

      &::before {
        transform: translate(-0.5rem, 0.3rem);
      }
      &::after {
        transform: translate(0.5rem, 0.3rem) rotateY(180deg);
      }
    }

    &.flipped {
      transform: rotateY(-180deg) translateZ(-15rem);
      filter: none;
      z-index: 100;
      box-shadow: 1rem 1rem 1.5rem hsla(var(--pink-back-070), 0.5);
      background: hsl(var(--gray-back-100));

      &:hover {
        background: hsl(var(--pink-back-100));
      }
    }
  }

  &-front {
    @extend %cardSet;
    display: flex;
    gap: 1rem;
    flex-direction: column;
    justify-content: center;
    align-items: center;

    &:hover {
      background: hsl(var(--pink-back-070));
    }

    &-imgWrap {
      width: 50%;
    }
  }

  &-back {
    @extend %cardSet;
    transform: rotateY(180deg);

    [class$="-title"] {
      padding-bottom: 1rem;
      margin-bottom: 1rem;
      border-bottom: 2px solid hsl(var(--pink-back-070));
    }

    &-des {
      padding: 0.5rem;
      @include font($s: 13, $ln: 1.2);
    }
  }

  &-navWrap {
    width: vw(290);
    height: vw(385);
    margin-bottom: 5rem;
    background: url(/images/skill-bg.svg) no-repeat center center;
    background-size: contain;
    border: none;

    &::before {
      width: 90%;
      height: 90%;
      top: 6rem;
      left: -2rem;
      background: hsl(var(--pink-back-100));
    }
    &::after {
      width: 90%;
      height: 90%;
      top: 7.5rem;
      left: -3.5rem;
      background: hsl(var(--pink-back-100));
    }

    .caption {
      width: max-content;
      @include position($b: rem(-90), $l: rem(-30));
      @include font($align: left);

      &-link {
        margin-left: 0;
      }
    }
  }

  &-nav {
    width: calc(100% - 6rem);
    height: 78%;
    margin: 19% 3rem;
    @include font(
      $s: 26,
      $wght: 600,
      $trans: uppercase,
      $cr: hsl(var(--gray-fore-020))
    );

    &-menu {
      margin: 1rem 0;
      cursor: pointer;

      &.active {
        @include font($cr: hsl(var(--pink-fore-030)));
      }

      &::before {
        display: inline-block;
        content: "*";
        margin-right: 0.5rem;
        transform: translateY(0.5rem);
      }
    }
  }
}

@include mobileL {
  $shadowDepth: 2rem;
  .skills {
    &-board {
      margin: 0 0 #{$shadowDepth} #{$shadowDepth};
    }
  }
}

@include tablet {
  .skills {
    gap: vh(35, $mobileVH);
    flex-direction: column-reverse;
    padding: 0 vw(20, $mobileVW);

    &-board {
      width: vw(300, $mobileVW);
      height: vh(540, $mobileVH);
      padding: vh(90, $mobileVH) vw(30, $mobileVW);
    }

    &-item {
      width: 25vw;
      height: 25vw;
    }

    &-navWrap {
      width: vw(60, $mobileVW);
      height: vh(130, $mobileVH);
      margin-left: auto;

      &::before {
        top: 4rem;
        width: 100%;
      }
      &::after {
        top: 5rem;
        left: -3rem;
        width: 100%;
      }

      .caption {
        bottom: -8.5rem;
        left: initial;
        right: 0;
        @include font($align: right);

        &-link {
          margin-left: auto;
        }
      }
    }

    &-nav {
      width: calc(100% - 2rem);
      margin: 30% 1rem;
      @include font($s: 23);
    }
  }
}
